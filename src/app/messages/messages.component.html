<div style="width: 100%; min-height: 480px;" class="message-col">
    <div id="msg-container" class="message-container overflow-auto" style="height: 500px;">
      <div *ngFor="let message of filteredMessages" class="message-item"
        [style.background]="message.sender === username ? 'rgba(80,150,220, 0.4)':'rgba(150,150,150, 0.3)'">
        <div mat-list-icon>chat</div>
        <h4 mat-line><b>{{message.sender === username ? 'You': message.sender}}</b>: {{message.content}}</h4>
        <div *ngIf="message.fichier!==null">
          <div >{{message.type}}</div><button  (click)="Doawload(message.fichier,message.type,message.type=='Rapport'?'PDF':'PNG')"> Download</button>
        </div>
      </div>
    </div>
  </div>
  
  <div style="width:100%; height: 40px;">
    <div style="width: 85%;">
      <form  enctype="multipart/form-data">
        <input matInput name="fichier" placeholder="New message" [disabled]="channel === null || channel === undefined"
        class="message-input" [(ngModel)]="newMessage" (keyup)="$event.keyCode == 13 ? sendMessage() : null">
        <input type="file" name="file"   (change)="chargerapport($event)"><br>
        <select  [(ngModel)]="newTyp" name="type">
          <option>Rapport</option>
          <option>Page de garde</option>
        </select>
      </form>
      
    </div>
    <button mat-raised-button [disabled]="channel === null || channel === undefined" style="width: 13%;"
      (click)="sendMessage()">Send</button>
  </div>

